# ğŸ¤– SignalAI (AIæŠ•ç ”å›¢é˜Ÿ)

<img src="https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/rainbow.png" width="100%">


## ğŸ“– é¡¹ç›®ä»‹ç»

### é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€æ¬¾**èšç„¦ AI è¾…åŠ©æ™ºèƒ½æŠ•ç ”åˆ†æå†³ç­–çš„å›¢é˜Ÿâ€œSignalAIâ€**ï¼Œä»¥ç”¨æˆ·è‡ªç„¶è¯­è¨€éœ€æ±‚ä¸ºæ ¸å¿ƒåˆ‡å…¥ç‚¹ï¼Œç²¾å‡†è¯†åˆ«ç”¨æˆ·æŠ•èµ„æ„å›¾ä¸è‡ªèº«æƒ…å†µã€‚å®ƒæ—¢ç«‹è¶³è‚¡ç¥¨ä»·æ ¼é¢„æµ‹ã€æŠ€æœ¯é¢æŒ‡æ ‡ã€åŸºæœ¬é¢æ•°æ®ã€å®è§‚ä¼°å€¼ç­‰æ ¸å¿ƒ**æ•°å€¼ç±»ä¿¡æ¯**å±•å¼€é‡åŒ–åˆ†æï¼Œåˆä¾æ‰˜å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ·±åº¦æ¨ç†èƒ½åŠ›ï¼Œä»çœ‹å¤šã€çœ‹ç©ºåŒé‡è§†è§’è¿›è¡Œ**è¾©è¯ç ”åˆ¤**ï¼›åŒæ—¶æ•´åˆå¸‚åœºæƒ…ç»ªåŠ¨æ€ã€ä¸ªè‚¡ç›¸å…³æ–°é—»ã€å®è§‚ç»æµæ¦‚å†µç­‰**æ–‡æœ¬ç±»ä¿¡æ¯**ï¼Œé€šè¿‡å¤š Agent ååŒè”åŠ¨çš„é«˜æ•ˆå·¥ä½œæ¨¡å¼ï¼Œ**ä¸ºç”¨æˆ·è¾“å‡ºå…¨é¢ã€ç«‹ä½“çš„å¸‚åœºè§£è¯»ä¸é’ˆå¯¹æ€§æŠ•èµ„å»ºè®®**ã€‚

### é¡¹ç›®ç‰¹è‰²

- **å¤šæ™ºèƒ½ä½“åä½œçš„æ¨¡å—åŒ–æ¶æ„**ï¼šé¡¹ç›®åŸºäº LandGraph æ¡†æ¶ï¼Œå®ç°å¤šæ™ºèƒ½ä½“å·¥ä½œæµçš„æ¨¡å—åŒ–æ„å»ºã€‚

  - å„æ¨¡å—ä¹‹é—´ç›¸äº’è”ç³»ï¼šç¡®ä¿æ¨¡å‹æ¨ç†ç»“æœã€å·¥å…·æ‰§è¡Œç»“æœç­‰ä¸­é—´å˜é‡åœ¨æ™ºèƒ½ä½“ä¹‹é—´é¡ºç•…ä¼ æ’­ï¼›
  - å„æ¨¡å—ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œå„ Agent ç‹¬ç«‹è¿ä½œï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ã€‚

- **å¤§è¯­è¨€æ¨¡å‹æ¨ç†åˆ†æ**ï¼šä¾æ‰˜å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ·±åº¦æ¨ç†èƒ½åŠ›è¿›è¡Œç ”åˆ¤ã€‚

  é¡¹ç›®åœ¨å¤šå¤´åˆ†æã€ç©ºå¤´åˆ†æã€å®è§‚åˆ†æã€æƒ…ç»ªåˆ†æã€æŠ¥å‘Šåˆ†æç­‰èŠ‚ç‚¹å¼•å…¥å¤§é¢„è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œç»“åˆ Prompt Engineering æŠ€æœ¯ï¼Œå¼•å¯¼å¤§æ¨¡å‹è¿›è¡ŒæŠ•èµ„å†³ç­–çš„æ·±åº¦æ¨ç†åˆ†æï¼Œç¡®ä¿åˆ†æçš„å…¨é¢æ€§ä¸ä¸“ä¸šæ€§ã€‚

- **å¤šå…ƒæ•°æ®çš„æœ‰æ•ˆæ•´åˆ**ï¼šå…¼é¡¾åˆ†ææ•°æ®çš„å®æ—¶å¤šå…ƒæ€§å’ŒæŠ•èµ„è§‚ç‚¹çš„å¤šå…ƒå…¼å®¹æ€§ã€‚

  - å¤šæºå¤´è·å–å®æ—¶æ•°æ®
    - å†å²æ ¸å¿ƒæ•°æ®ï¼šé€šè¿‡ akshare æ¥å£è·å–è´¢åŠ¡æŒ‡æ ‡ã€å¸‚å€¼æ•°æ®ã€è‚¡ä»·èµ°åŠ¿ã€è´¢ç»æ–°é—»ç­‰æ ¸å¿ƒå†å²æ•°æ®ä¸ä¿¡æ¯ï¼›
    - æœªæ¥è¶‹åŠ¿æ•°æ®ï¼šåŸºäºè‚¡ç¥¨Kçº¿é¢„æµ‹å¤§æ¨¡å‹ Kronos åˆ†æè‚¡ç¥¨æœªæ¥èµ°åŠ¿æƒ…å†µï¼ŒåŸºäº DCF æ¨¡å‹ä¼°ç®—è‚¡ç¥¨çš„å†…åœ¨ä»·å€¼ï¼›
    - ç½‘ç»œæ–‡æœ¬æ•°æ®ï¼šé€šè¿‡çˆ¬è™«æŠ€æœ¯è·å–ç™¾åº¦è´´å§æŠ•èµ„è€…å‘å¸ƒçš„å¸–å­å†…å®¹ä¸è¯„è®ºä¿¡æ¯ç­‰æ–‡æœ¬ä¿¡æ¯ã€‚
  - å¤šè§’åº¦è§‚ç‚¹çš„è¾¨è¯å…¼å®¹
    - å¤šå¤´åˆ†ææ™ºèƒ½ä½“ï¼šæ”¾å¤§æ­£é¢æ•°æ®ä¿¡å·ï¼Œå°†å…¶å®šä¹‰ä¸ºæ ¸å¿ƒå¢é•¿åŠ¨åŠ›ï¼Œå¹¶å°†è´Ÿé¢ä¿¡å·é‡æ„ä¸ºä¹è§‚è§£è¯»ï¼Œæœ€ç»ˆé€šè¿‡ LLM çš„æ·±åº¦æ¨ç†å½¢æˆä¿¡æ¯åº¦ä¸è‹¥å¹²ä¸ªçœ‹å¤šè®ºç‚¹ï¼ˆåŒ…å«é¢„æµ‹æœºä¼šç‚¹ï¼‰ï¼›
    - ç©ºå¤´åˆ†ææ™ºèƒ½ä½“ï¼šæ”¾å¤§è´Ÿé¢æ•°æ®ä¿¡å·ï¼Œå°†å…¶å®šä¹‰ä¸ºæ ¸å¿ƒé£é™©å› ç´ ï¼Œå¹¶å°†æ­£é¢ä¿¡å·é‡æ„ä¸ºæ‚²è§‚è§£è¯»ï¼Œæœ€ç»ˆé€šè¿‡ LLM çš„æ·±åº¦æ¨ç†å½¢æˆä¿¡æ¯åº¦ä¸è‹¥å¹²ä¸ªçœ‹ç©ºè®ºç‚¹ï¼ˆåŒ…å«æ½œåœ¨é£é™©ç‚¹ï¼‰ï¼›
    - ç¬¬ä¸‰æ–¹è¾¨è¯ç ”åˆ¤ï¼šæ•´åˆå¤šå¤´ä¸ç©ºå¤´åˆ†ææ™ºèƒ½ä½“çš„è§‚ç‚¹ï¼Œç«™åœ¨å®¢è§‚çš„ç¬¬ä¸‰æ–¹ç«‹åœºè¯„ä¼°å¹¶ç»¼åˆåŒæ–¹è®ºç‚¹ï¼Œé¿å…æ¨¡å‹æœ‰çœ‹å¤šæˆ–çœ‹ç©ºå€¾å‘ï¼Œæœ€ç»ˆè¾“å‡ºå¹³è¡¡çš„æŠ•èµ„ç»“è®ºå»ºè®®ã€‚

- **æŠ•èµ„å»ºè®®å†…å®¹å……å®**ï¼šæŠ•èµ„æŠ¥å‘Šç»“åˆæ•°æ®æ”¯æ’‘å¤šè§’åº¦è®ºæ®ï¼Œä½“ç°åˆç†æ€§ä¸ä¸“ä¸šæ€§ã€‚

  æœ€ç»ˆé€šè¿‡ LLM ç”Ÿæˆçš„æŠ•èµ„å»ºè®®æŠ¥å‘Šä¸ä»…ç»™å‡ºäº†å…·ä½“çš„å†³ç­–ç»“è®ºå’ŒåŠ¨ä½œï¼Œè¿˜æä¾›å……åˆ†çš„å†³ç­–ä¾æ®ï¼Œå³ä¸€æ–¹é¢ï¼Œç»“åˆæ•°æ®æŒ‡æ ‡ä»åŸºæœ¬é¢ã€ä¼°å€¼ã€æŠ€æœ¯é¢ç­‰å¤šç»´åº¦é‡åŒ–åˆ†æï¼›å¦ä¸€æ–¹é¢ç»“åˆç½‘ç»œæ–‡æœ¬æ•°æ®ä»å¸‚åœºå®è§‚ä¸æƒ…ç»ªè§’åº¦å‘ˆç°è¯¦å®è®ºè¯ã€‚

### ç³»ç»Ÿæ¶æ„

> \* æ ‡æ³¨çš„æ™ºèƒ½ä½“è¡¨ç¤ºæ¥å…¥å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è¿›è¡Œæ·±åº¦æ¨ç†åˆ†æ

```mermaid
flowchart TD
    classDef pink fill:#ff99cc,stroke:#333,stroke-width:2px
    classDef blue fill:#66ccff,stroke:#333,stroke-width:2px
    classDef yellow fill:#ffff99,stroke:#333,stroke-width:2px
    classDef red fill:#ff9999,stroke:#333,stroke-width:2px
    classDef green fill:#99ff99,stroke:#333,stroke-width:2px
    classDef purple fill:#cc99ff,stroke:#333,stroke-width:2px

    Q[intent_recognition_agent*<br/>ç”¨æˆ·è¾“å…¥]:::pink --> A[intent_recognition_agent*<br/>æ„å›¾è¯†åˆ«æ™ºèƒ½ä½“*]:::pink
    
    A[intent_recognition_agent*<br/>æ„å›¾è¯†åˆ«æ™ºèƒ½ä½“*]:::pink --> B[market_data_tool<br/>æ•°æ®è·å–å·¥å…·]:::blue
    A[intent_recognition_agent*<br/>æ„å›¾è¯†åˆ«æ™ºèƒ½ä½“*]:::pink --> O[market_data_tool<br/>é—²èŠå¯¹è¯æ™ºèƒ½ä½“]:::green

    B --> C[technical_analysis_tool<br/>æŠ€æœ¯åˆ†æå·¥å…·]:::yellow
    B --> D[stock_forecast_tool<br/>è‚¡ç¥¨é¢„æµ‹å·¥å…·]:::yellow
    B --> E[fundamentals_analysis_tool<br/>åŸºæœ¬é¢åˆ†æå·¥å…·]:::yellow
    B --> F[online_sentiment_agent*<br/>ç½‘ç»œæƒ…ç»ªåˆ†ææ™ºèƒ½ä½“*]:::yellow
    B --> G[valuation_analysis_tool<br/>ä¼°å€¼åˆ†æå·¥å…·]:::yellow
    B --> H[macro_news_agent*<br/>å®è§‚æ–°é—»åˆ†ææ™ºèƒ½ä½“*]:::yellow
    B --> I[macro_market_agent*<br/>å®è§‚å¸‚åœºåˆ†ææ™ºèƒ½ä½“*]:::yellow

    C --> J[bullish_research_agent*<br/>å¤šå¤´åˆ†ææ™ºèƒ½ä½“*]:::red
    D --> J
    E --> J
    G --> J

    C --> K[bearish_research_agent*<br/>ç©ºå¤´åˆ†ææ™ºèƒ½ä½“*]:::red
    D --> K
    E --> K
    G --> K


    J --> L[tripartite_judgment_agent*<br/>ä¸‰æ–¹ç ”åˆ¤æ™ºèƒ½ä½“*]:::red
    K --> L

    L --> M[risk_assessment_tool<br/>é£é™©è¯„ä¼°å·¥å…·]:::red

    H --> N[summary_synthesis_agent*<br/>æŠ•ç ”æ€»ç»“æ™ºèƒ½ä½“*<br/>ï¼ˆç”ŸæˆæŠ•èµ„å»ºè®®ï¼‰]:::green
    I --> N
    F --> N
    M --> N
    

    N --> P[end<br/>æµç¨‹ç»“æŸ]:::purple
    O --> P[end<br/>æµç¨‹ç»“æŸ]:::purple
```


## ğŸ“‚ é¡¹ç›®ç»“æ„

```
SignalAI/
â”œâ”€â”€ data/                                               # å­˜å‚¨ç¼“å­˜æ•°æ®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Crawl_Comments/                                 # çˆ¬è™«ä»£ç æ–‡ä»¶
â”‚   â”œâ”€â”€ Kronos/                                         # è‚¡ç¥¨èµ°åŠ¿é¢„æµ‹é‡‘èæ¨¡å‹
â”‚   â”œâ”€â”€ agents/                                         # å„ç»´åº¦åˆ†ææ™ºèƒ½ä½“
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ bearish_research.py
â”‚   â”‚   â”œâ”€â”€ bullish_research.py
â”‚   â”‚   â”œâ”€â”€ fundamentals.py
â”‚   â”‚   â”œâ”€â”€ intent_recognition.py
â”‚   â”‚   â”œâ”€â”€ macro_market.py
â”‚   â”‚   â”œâ”€â”€ macro_news.py
â”‚   â”‚   â”œâ”€â”€ market_data.py
â”‚   â”‚   â”œâ”€â”€ online_sentiment.py
â”‚   â”‚   â”œâ”€â”€ risk_assessment.py
â”‚   â”‚   â”œâ”€â”€ state.py
â”‚   â”‚   â”œâ”€â”€ stock_forecast.py
â”‚   â”‚   â”œâ”€â”€ summary_synthesis.py
â”‚   â”‚   â”œâ”€â”€ technicals.py
â”‚   â”‚   â”œâ”€â”€ tripartite_judgment.py
â”‚   â”‚   â””â”€â”€ valuation.py
â”‚   â””â”€â”€ tools/                                        # å·¥ä½œæµæ¶‰åŠæ–‡ä»¶
â”œâ”€â”€ .env.example                                       # ç¯å¢ƒé…ç½®ç¤ºä¾‹
â”œâ”€â”€ chainlit_app.py                                # å‰ç«¯æ–‡ä»¶
â”œâ”€â”€ main.py                                        # å·¥ä½œæµæ¶‰åŠæ–‡ä»¶
â”œâ”€â”€ .gitignore
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â””â”€â”€ requirements.txt
```


## ğŸ› ï¸ ä½¿ç”¨æŒ‡å—

### 1. åˆ›å»ºç¯å¢ƒ

- **ç¯å¢ƒè¦æ±‚**

  - **æ“ä½œç³»ç»Ÿ**: Windowsã€Linuxã€MacOS
  - **Pythonç‰ˆæœ¬**: 3.12
  - **Conda**: Anaconda æˆ– Miniconda

- **åˆ›å»ºç¯å¢ƒ**

  - ä½¿ç”¨ conda

    ```
    # åˆ›å»ºcondaç¯å¢ƒ
    conda create -n your_conda_name python=3.12
    conda activate your_conda_name
    ```

  - ä½¿ç”¨ uv

    ```
    # åˆ›å»ºuvç¯å¢ƒ
    uv venv --python 3.12
    ```

- **å®‰è£…ä¾èµ–åŒ…**

  ```
  # åŸºç¡€ä¾èµ–å®‰è£…
  pip install -r requirements.txt
  # uvç‰ˆæœ¬å‘½ä»¤
  uv pip install -r requirements.txt
  ```

- **å®‰è£…æµè§ˆå™¨å†…æ ¸**

  ```
  playwright install chromium
  ```

### 2. åŠ è½½ Kronos æ¨¡å‹

åŠ è½½ Kronos æ¨¡å‹ï¼Œç”¨äºåç»­è‚¡ç¥¨èµ°åŠ¿é¢„æµ‹ï¼Œé»˜è®¤å­˜å‚¨è·¯å¾„ä¸ºâ€œC:/ç”¨æˆ·/.cache/modelscope/hub/models/AI-ModelScope/xxxâ€

```bash
modelscope download --model AI-ModelScope/Kronos-Tokenizer-base
modelscope download --model AI-ModelScope/Kronos-base
```

### 3. å‚è€ƒ .env.example å¡«å†™é…ç½®

å°† .env.example æ–‡ä»¶å¤åˆ¶åé‡å‘½åä¸º .env æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹é‡Œé¢çš„é…ç½®

```
# å­—èŠ‚è·³åŠ¨ API é…ç½®
BYTEDANCE_API_KEY = your_api_key
BYTEDANCE_MODEL = your_model
BYTEDANCE_BASE_URL = your_base_url

# LangSmith é…ç½®
LANGSMITH_API_KEY = your_langsmith_api_key
LANGSMITH_TRACING = true
LANGSMITH_PROJECT = your_langsmith_project_name
LANGCHAIN_ENDPOINT = https://api.smith.langchain.com

# åŠ è½½ Kronos æ¨¡å‹çš„ç»å¯¹è·¯å¾„
KRONOS_MODEL_PATH="C:/Users/xx/.cache/modelscope/hub/models/AI-ModelScope/Kronos-base"
KRONOS_TOKENIZER_PATH="C:/Users/xx/.cache/modelscope/hub/models/AI-ModelScope/Kronos-Tokenizer-base"
```

### 4. æ¨¡å‹è¿è¡Œ

```
chainlit run src/chainlit_app.py  # æ³¨æ„è¿™é‡Œåº”æ˜¯ chainlit_app.py çš„ç›¸å¯¹è·¯å¾„
```

åœ¨ç»ˆç«¯è¿è¡Œä»£ç æˆåŠŸåï¼Œè®¿é—®åœ°å€ http://localhost:8000ï¼Œè¿›å…¥ç•Œé¢ååœ¨å¯¹è¯æ¡†è¾“å…¥éœ€è¦å’¨è¯¢çš„é—®é¢˜å³å¯ã€‚

<img src="data/img/ç•Œé¢.png" alt="ç•Œé¢" style="zoom:60%;" />

**ç‰¹åˆ«è¯´æ˜**ï¼šç”±äºé¡¹ç›®æ¶‰åŠç™¾åº¦è´´å§ç›¸å…³å¸–å­åŠå…¶è¯„è®ºå†…å®¹çš„çˆ¬å–ï¼Œç”¨äºç½‘ç»œæƒ…ç»ªåˆ†æï¼Œå› æ­¤ã€é¦–æ¬¡ä½¿ç”¨ã€‘æ—¶ä¼šæœ‰å¼¹çª—å¼¹å‡ºç™¾åº¦è´´å§ç™»å½•äºŒç»´ç ï¼Œå±Šæ—¶éœ€è¦ç”¨ã€ç™¾åº¦è´´å§æ‰‹æœºAPPå®¢æˆ·ç«¯ã€‘è¿›è¡Œæ‰«ç ç™»å½•ï¼Œè¯·æå‰ä¸‹å†å‡†å¤‡ã€‚

### 5. **ç¤ºä¾‹è¾“å‡º**

- **ç®€å•å›å¤**

  <img src="data/img/ç®€å•é—®ç­”.png" alt="ç®€å•é—®ç­”" style="zoom:60%;" />

- **è‚¡ç¥¨æŠ•ç ”åˆ†æ**

  <img src="data/img/è‚¡ç¥¨åˆ†æ.png" alt="è‚¡ç¥¨åˆ†æ" style="zoom:60%;" />

